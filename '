require 'faraday'

class Echonest
  attr_reader :api_key

  def initialize(api_key)
    @api_key = api_key
  end

  def search(artist, title)
    params = "&artist=#{artist.gsub(/\s/, "+")}&title=#{title.gsub(/\s/, "+")}"
    params += "&bucket=tracks"
    parmas += "&limit=true"
    params += "&results=3"
    Faraday.get(search_url + params)
  end

  def search_url
    "http://developer.echonest.com/api/v4/song/search?api_key=#{api_key}"
  end
end
